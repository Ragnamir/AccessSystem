Общие положения.
Инструменты.

1. Используем Java для back-end
2. Используем PostgreSQL как БД
3. Используем докер для контейнеризации
4. Разработка ведётся в Windows окружении. Учесть при формировании команд.

Приложение является системой контроля физического доступа.

В системе есть пользователи, пропускные пункты и зоны.
Пропускной пункт позволяет переходить из зоны в зону, или покидать систему.
Пользователь имеет личный пропуск, который позволяет ему переходить между разрешенными для него зонами (имеет свой закрытый ключ).
Так же центр выдачи ключей пользователей, выдающий ключи пользователей (идентификатор пользователя, шифрованный закрытым ключом системы выдачи ключей). Центр выдачи ключей является отдельным модулем нашего ПО.

Пропускной пункт считывает ключ пользователя и формирует сообщение для бэкенда нашей системы, содержащее ключ пользователя, время прохождения и направление прохождения (из какой зоны в какую), шифрованный ключом пропускного пункта. Так же идентификатор пункта в нешифрованном виде. Мы не будем реализовывать его код. Вместо этого мы напишем тестовый сервис, который будет генерировать случайные события попыток пользователей проходить через пропускные пункты в разных направлениях.

Наша бэкенд имеет открытые ключи системы выдачи ключей и пропускных пунктов.
При получении события перехода от пропускного пункта он расшифровывает сообщение открытым ключом пропускного
пункта по идентификатору. В случае успеха мы считаем, что сообщение получено от пропускного пункта, иначе отвечаем отказом. После этого мы сверяем идентификатор пользователя, расшифровав его с помощью открытого ключа системы выдачи ключей. Если не получается - выдаём отказ. Если получается - проверяем имеет ли право пользователь на переход в соответствующую зону и соответствует ли история пользователя нынешнему переходу (находится ли он по нашему мнению в зоне, из которой совершает переход)

Все переходы должны логироваться сохранятся в БД. Все отказы в переходах должны хранится в БД отдельно.
Стоит предусмотреть систему уведомления о отказах в переходе (возможная угроза безопасности.)